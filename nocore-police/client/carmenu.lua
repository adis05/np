local normal = {
    ['npolvic'] = {
        ['Name'] = 'npolvic',
        ['ModName'] = 'npolvic',
        ['Label'] = 'Police CrownV',
        ['Description'] = 'Маркиран',
    },
    ['16taurus'] = {
        ['Name'] = '16taurus',
        ['ModName'] = '16taurus',
        ['Label'] = 'Police Taurus',
        ['Description'] = 'Маркиран',
    },
    ['npolmm'] = {
        ['Name'] = 'npolmm',
        ['ModName'] = 'npolmm',
        ['Label'] = 'Police Bike',
        ['Description'] = 'Маркиран',
    },
    ['npolchal2'] = {
        ['Name'] = 'npolchal',
        ['ModName'] = 'npolchal2',
        ['Label'] = 'Police Demon Police',
        ['Description'] = 'Маркиран',
    },
    ['legexp'] = {
        ['Name'] = 'legexp',
        ['ModName'] = 'legexp',
        ['Label'] = 'Police SUV',
        ['Description'] = 'Маркиран',
    },
    ['legexp2'] = {
        ['Name'] = 'legexp',
        ['ModName'] = 'legexp2',
        ['Label'] = 'Sheriff SUV',
        ['Description'] = 'Маркиран',
    },
    ['npolchar'] = {
        ['Name'] = 'npolchar',
        ['ModName'] = 'npolchar',
        ['Label'] = 'New Charger',
        ['Description'] = 'Маркиран',
    },
    ['npolchar2'] = {
        ['Name'] = 'npolchar',
        ['ModName'] = 'npolchar2',
        ['Label'] = 'New Charger Sherif',
        ['Description'] = 'Маркиран',
    },
}

local highspeed = {
    ['npolvette'] = {
        ['Name'] = 'npolvette',
        ['ModName'] = 'npolvette',
        ['Label'] = 'Police Corvette',
        ['Description'] = 'Маркиран',
    },
    ['npolchal'] = {
        ['Name'] = 'npolchal',
        ['ModName'] = 'npolchal',
        ['Label'] = 'Police Demon',
        ['Description'] = 'Маркиран',
    },
}

local unmarked = {
    ['ucballer'] = {
        ['Name'] = 'ucballer',
        ['ModName'] = 'ucballer',
        ['Label'] = 'Unmarked Baller',
        ['Description'] = 'Инспектор',
    },
    ['ucbanshee'] = {
        ['Name'] = 'ucbanshee',
        ['ModName'] = 'ucbanshee',
        ['Label'] = 'Unmarked Banshee',
        ['Description'] = 'Инспектор',
    },
    ['ucbuffalo'] = {
        ['Name'] = 'ucbuffalo',
        ['ModName'] = 'ucbuffalo',
        ['Label'] = 'Unmarked Buggalo',
        ['Description'] = 'Инспектор',
    },
    ['uccomet'] = {
        ['Name'] = 'uccomet',
        ['ModName'] = 'uccomet',
        ['Label'] = 'Unmarked Comet',
        ['Description'] = 'Инспектор',
    },
    ['uccoquette'] = {
        ['Name'] = 'uccoquette',
        ['ModName'] = 'uccoquette',
        ['Label'] = 'Unmarked Coquette',
        ['Description'] = 'Инспектор',
    },
    ['ucprimo'] = {
        ['Name'] = 'ucprimo',
        ['ModName'] = 'ucprimo',
        ['Label'] = 'Unmarked Primo',
        ['Description'] = 'Инспектор',
    },
    ['ucrancher'] = {
        ['Name'] = 'ucrancher',
        ['ModName'] = 'ucrancher',
        ['Label'] = 'Unmarked Rancher',
        ['Description'] = 'Инспектор',
    },
    ['ucwashington'] = {
        ['Name'] = 'ucwashington',
        ['ModName'] = 'ucwashington',
        ['Label'] = 'Unmarked Washington',
        ['Description'] = 'Инспектор',
    },
}

local carmods = {
    ['npolvic'] = '{"modShifterLeavers":-1,"modHorns":-1,"modTrimB":-1,"modRightFender":-1,"modWindows":-1,"modSpeakers":-1,"modRearBumper":-1,"modPlateHolder":-1,"bodyHealth":1000.0,"modAerials":2,"modAirFilter":-1,"color1Custom":[0,0,0],"modArchCover":-1,"extras":{"1":1,"2":false,"3":false,"4":false,"5":1,"6":false,"7":false},"modBrakes":-1,"modFrontBumper":1,"modExhaust":-1,"modTank":-1,"color2Custom":[0,0,0],"pearlescentColor":4,"model":-901056903,"color1":0,"modArmor":-1,"modHood":-1,"color2Type":1,"modTrunk":1,"plate":"1IC107DU","modTurbo":0,"modLivery":4,"neonColor":[255,0,255],"modXenon":255,"modBackWheels":-1,"modSpoilers":-1,"modTrimA":-1,"livery":-1,"modSuspension":-1,"modFrame":1,"modAPlate":-1,"modSteeringWheel":-1,"wheelColor":0,"modHydrolic":-1,"engineHealth":1000.0,"modSideSkirt":-1,"modOrnaments":0,"modDial":-1,"modSeats":0,"modGrille":-1,"plateIndex":4,"windowTint":-1,"modEngineBlock":-1,"dirtLevel":10.0,"neonEnabled":[false,false,false,false],"modFender":-1,"modEngine":-1,"modDashboard":0,"modFrontWheels":-1,"tyreSmokeColor":[255,255,255],"color2":0,"fuelLevel":65.0,"modDoorSpeaker":-1,"modSmokeEnabled":false,"modVanityPlate":-1,"modTransmission":-1,"wheels":1,"color1Type":1,"modStruts":-1,"modRoof":0}',
    ['16taurus'] = '{"modShifterLeavers":-1,"modHorns":-1,"modTrimB":-1,"modRightFender":-1,"modWindows":-1,"modSpeakers":-1,"modRearBumper":-1,"modPlateHolder":-1,"bodyHealth":1000.0,"modAerials":-1,"modAirFilter":-1,"color1Custom":[0,0,0],"modArchCover":-1,"extras":{"1":1,"11":1,"12":1,"5":1,"7":1,"10":1},"modBrakes":-1,"modFrontBumper":-1,"modExhaust":-1,"modTank":-1,"color2Custom":[0,0,0],"pearlescentColor":5,"model":1745872177,"color1":0,"modArmor":-1,"modHood":-1,"color2Type":1,"modTrunk":-1,"plate":"4FG390SP","modTurbo":0,"modLivery":-1,"neonColor":[255,0,255],"modXenon":255,"modBackWheels":-1,"modSpoilers":-1,"modTrimA":-1,"livery":0,"modSuspension":-1,"modFrame":-1,"modAPlate":-1,"modSteeringWheel":-1,"wheelColor":11,"modHydrolic":-1,"engineHealth":1000.0,"modSideSkirt":-1,"modOrnaments":-1,"modDial":-1,"modSeats":-1,"modGrille":-1,"plateIndex":4,"windowTint":-1,"modEngineBlock":-1,"dirtLevel":3.0,"neonEnabled":[false,false,false,false],"modFender":-1,"modEngine":-1,"modDashboard":-1,"modFrontWheels":-1,"tyreSmokeColor":[255,255,255],"color2":0,"fuelLevel":65.0,"modDoorSpeaker":-1,"modSmokeEnabled":false,"modVanityPlate":-1,"modTransmission":-1,"wheels":1,"color1Type":1,"modStruts":-1,"modRoof":-1}',
    ['npolmm'] = '{"modShifterLeavers":-1,"modHorns":-1,"modTrimB":-1,"modRightFender":-1,"modWindows":-1,"modSpeakers":-1,"modRearBumper":-1,"modPlateHolder":-1,"bodyHealth":1000.0,"modAerials":-1,"modAirFilter":-1,"color1Custom":[0,0,0],"modArchCover":-1,"extras":{"1":1,"2":1,"3":1},"modBrakes":-1,"modFrontBumper":-1,"modExhaust":-1,"modTank":-1,"color2Custom":[0,0,0],"pearlescentColor":5,"model":-826092757,"color1":0,"modArmor":-1,"modHood":-1,"color2Type":1,"modTrunk":-1,"plate":"2CO817IS","modTurbo":0,"modLivery":0,"neonColor":[255,0,255],"modXenon":255,"modBackWheels":-1,"modSpoilers":-1,"modTrimA":-1,"livery":-1,"modSuspension":-1,"modFrame":-1,"modAPlate":-1,"modSteeringWheel":-1,"wheelColor":0,"modHydrolic":-1,"engineHealth":1000.0,"modSideSkirt":-1,"modOrnaments":-1,"modDial":-1,"modSeats":-1,"modGrille":-1,"plateIndex":4,"windowTint":-1,"modEngineBlock":-1,"dirtLevel":12.0,"neonEnabled":[false,false,false,false],"modFender":-1,"modEngine":-1,"modDashboard":-1,"modFrontWheels":-1,"tyreSmokeColor":[255,255,255],"color2":0,"fuelLevel":65.0,"modDoorSpeaker":-1,"modSmokeEnabled":false,"modVanityPlate":-1,"modTransmission":-1,"wheels":6,"color1Type":1,"modStruts":-1,"modRoof":-1}',
    ['npolvette'] = '{"modShifterLeavers":-1,"plateIndex":1,"modTrimB":-1,"modRightFender":-1,"modWindows":-1,"modSpeakers":-1,"modRearBumper":0,"modPlateHolder":-1,"bodyHealth":1000.0,"modSeats":-1,"modAirFilter":-1,"color1Custom":[0,1,8],"modArchCover":-1,"extras":{"1":1,"2":false,"3":false,"4":false,"5":1,"6":1},"modBrakes":-1,"modFrontBumper":1,"modDashboard":0,"modTank":-1,"color2Custom":[0,1,8],"pearlescentColor":66,"model":-1109563416,"color1":141,"modArmor":-1,"modHood":0,"color2Type":6,"modTrunk":-1,"modSteeringWheel":-1,"modTurbo":0,"modFender":-1,"neonColor":[255,0,255],"wheelColor":0,"modBackWheels":-1,"modSpoilers":0,"modTrimA":-1,"livery":-1,"modSuspension":-1,"modFrame":1,"modExhaust":-1,"modDial":-1,"engineHealth":1000.0,"modHydrolic":-1,"modSmokeEnabled":false,"modSideSkirt":1,"plate":"7UN098TL","modXenon":255,"modLivery":2,"dirtLevel":0.0,"modDoorSpeaker":-1,"windowTint":-1,"modEngineBlock":-1,"modHorns":-1,"neonEnabled":[false,false,false,false],"modGrille":-1,"modEngine":-1,"modOrnaments":0,"modFrontWheels":-1,"tyreSmokeColor":[255,255,255],"color2":141,"fuelLevel":65.0,"modVanityPlate":-1,"modAPlate":-1,"modAerials":-1,"modTransmission":-1,"wheels":0,"color1Type":6,"modStruts":-1,"modRoof":-1}',
    ['npolchal'] = '{"modShifterLeavers":-1,"modHorns":-1,"modTrimB":-1,"modRightFender":-1,"modWindows":-1,"modSpeakers":-1,"modRearBumper":-1,"modPlateHolder":-1,"bodyHealth":1000.0,"modAerials":-1,"modAirFilter":-1,"color1Custom":[0,1,8],"modArchCover":-1,"extras":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"modBrakes":-1,"modFrontBumper":-1,"modExhaust":-1,"modTank":-1,"color2Custom":[0,1,8],"pearlescentColor":66,"model":1949729657,"color1":141,"modArmor":-1,"modHood":-1,"color2Type":6,"modTrunk":1,"plate":"1TB914WA","modTurbo":0,"modLivery":1,"neonColor":[255,0,255],"modXenon":255,"modBackWheels":-1,"modSpoilers":0,"modTrimA":-1,"livery":-1,"modSuspension":-1,"modFrame":1,"modAPlate":-1,"modSteeringWheel":-1,"wheelColor":0,"modHydrolic":-1,"engineHealth":1000.0,"modSideSkirt":-1,"modOrnaments":0,"modDial":-1,"modSeats":-1,"modGrille":-1,"plateIndex":1,"windowTint":-1,"modEngineBlock":-1,"dirtLevel":0.0,"neonEnabled":[false,false,false,false],"modFender":-1,"modEngine":-1,"modDashboard":0,"modFrontWheels":-1,"tyreSmokeColor":[255,255,255],"color2":141,"fuelLevel":74.0,"modDoorSpeaker":-1,"modSmokeEnabled":false,"modVanityPlate":-1,"modTransmission":-1,"wheels":7,"color1Type":6,"modStruts":-1,"modRoof":0}',
    ['npolchal2'] = '{"modRearBumper":-1,"modAirFilter":-1,"modXenon":255,"color2Custom":[0,1,8],"wheelColor":0,"modArchCover":-1,"modAerials":-1,"color1":141,"modWindows":-1,"livery":-1,"modHorns":-1,"modTransmission":-1,"modLivery":4,"neonEnabled":[false,false,false,false],"modTrunk":1,"modSmokeEnabled":false,"wheels":7,"model":1949729657,"modFender":-1,"modBrakes":-1,"tyreSmokeColor":[255,255,255],"color1Custom":[0,1,8],"color2Type":7,"modRoof":0,"modDial":-1,"modRightFender":-1,"plateIndex":1,"modFrame":1,"modTank":-1,"neonColor":[255,0,255],"fuelLevel":74.0,"modSteeringWheel":-1,"modArmor":-1,"modSideSkirt":-1,"modEngineBlock":-1,"modSpeakers":-1,"modEngine":1,"extras":{"6":1,"5":1,"4":1,"3":1,"2":1,"1":1},"dirtLevel":0.0,"modExhaust":-1,"modTrimB":-1,"color2":141,"pearlescentColor":66,"bodyHealth":1000.0,"modDashboard":0,"modAPlate":-1,"modFrontWheels":-1,"color1Type":7,"modHood":-1,"modSeats":-1,"modBackWheels":-1,"modSpoilers":0,"modDoorSpeaker":-1,"modVanityPlate":-1,"modOrnaments":0,"modSuspension":-1,"modTurbo":0,"modPlateHolder":-1,"modGrille":-1,"modShifterLeavers":-1,"modTrimA":-1,"modFrontBumper":-1,"modHydrolic":-1,"windowTint":-1,"engineHealth":1000.0,"modStruts":-1}',
    ['legexp'] = '',
    ['npolchar2'] = '{"modDashboard":0,"modBackWheels":-1,"color2Type":7,"extras":{"1":1,"7":1,"6":1,"5":1,"4":1,"3":false,"2":false},"color2":0,"modEngineBlock":-1,"color1Custom":[34,34,34],"modSuspension":3,"windowTint":1,"neonEnabled":[false,false,false,false],"modSpoilers":2,"neonColor":[255,0,255],"modHydrolic":-1,"modPlateHolder":-1,"interiorcolor":2,"modTrimB":-1,"modSteeringWheel":-1,"modShifterLeavers":-1,"modTank":-1,"livery":-1,"modRightFender":-1,"modExhaust":0,"modTurbo":1,"modRoof":0,"plate":"3SB377YI","modFrontBumper":1,"modDial":0,"plateIndex":0,"modBrakes":2,"modVanityPlate":-1,"modEngine":4,"modTrunk":-1,"modXenon":255,"tyreSmokeColor":[255,255,255],"modTransmission":3,"modSmokeEnabled":false,"modGrille":-1,"modAPlate":-1,"modStruts":-1,"dirtLevel":0.0,"modSpeakers":-1,"fuelLevel":65.0,"bodyHealth":1000.0,"modWindows":-1,"modArchCover":-1,"modArmor":-1,"modHorns":-1,"modRearBumper":-1,"modSeats":-1,"color1":0,"modLivery":2,"modHood":-1,"modAerials":-1,"modAirFilter":-1,"modFrame":-1,"modOrnaments":0,"modFender":-1,"modSideSkirt":-1,"wheels":3,"dashboardcolor":156,"modFrontWheels":64,"color1Type":7,"engineHealth":1000.0,"modTrimA":-1,"wheelColor":0,"model":-1457394361,"modDoorSpeaker":-1,"pearlescentColor":8,"color2Custom":[34,34,34]}',
    ['npolchar'] = '{"extras":{"2":false,"1":1,"7":1,"6":1,"5":1,"4":1,"3":false},"modArchCover":-1,"modArmor":-1,"wheelColor":0,"modTrimB":-1,"modSuspension":3,"neonEnabled":[false,false,false,false],"modBackWheels":-1,"plate":"BWPI8561","modHorns":-1,"modPlateHolder":-1,"modFrontBumper":1,"color2Type":0,"tyreSmokeColor":[255,255,255],"modDial":0,"modAPlate":-1,"modStruts":-1,"modBrakes":2,"color1Type":0,"modAirFilter":-1,"interiorcolor":2,"modVanityPlate":-1,"livery":-1,"modRoof":0,"modTank":-1,"color2":0,"modRearBumper":-1,"neonColor":[255,0,255],"modXenon":255,"modEngineBlock":-1,"modSpoilers":2,"modExhaust":0,"modTurbo":1,"color1":0,"wheels":3,"modGrille":-1,"modAerials":-1,"modShifterLeavers":-1,"modEngine":4,"modSmokeEnabled":false,"modSpeakers":-1,"modOrnaments":0,"modLivery":5,"plateIndex":0,"modWindows":-1,"pearlescentColor":80,"modDoorSpeaker":-1,"color1Custom":[0,0,0],"model":-1457394361,"modRightFender":-1,"modFrontWheels":64,"modSideSkirt":-1,"color2Custom":[0,0,0],"modHydrolic":-1,"modTrunk":-1,"modTransmission":3,"modSeats":-1,"bodyHealth":1000.0,"windowTint":1,"modTrimA":-1,"dashboardcolor":156,"modSteeringWheel":-1,"modFrame":-1,"dirtLevel":0.0,"modHood":-1,"engineHealth":1000.0,"modDashboard":0,"modFender":-1,"fuelLevel":65.0}',
}

RegisterNetEvent("nocore-police:Client:OpenBossCarMenu")
AddEventHandler("nocore-police:Client:OpenBossCarMenu" , function()
    local sendMenu = {}
    table.insert(sendMenu,{
        id = 1,
        header = "Police Units",
        txt = "",
        isMenuHeader = true
    })
    table.insert(sendMenu,{
        id = #sendMenu+1,
        header = 'Police Cars',
        txt = 'Полицейски патрулки',
        params = { 
            event = "nocore-police:Client:OpenCarMenu",
            args = {
                'normal'
            }
        }
    })
    table.insert(sendMenu,{
        id = #sendMenu+1,
        header = 'Unmarked Cars',
        txt = 'Немаркирани патрулки',
        params = { 
            event = "nocore-police:Client:OpenCarMenu",
            args = {
                'unmarked'
            }
        }
    })
    table.insert(sendMenu,{
        id = #sendMenu+1,
        header = 'High Speed Cars',
        txt = 'Бързи патрулки',
        params = { 
            event = "nocore-police:Client:OpenCarMenu",
            args = {
                'highspeed'
            }
        }
    })
    table.insert(sendMenu,{
        id = #sendMenu+1,
        header = "Затвори",
        txt = "",
        params = { 
            event = "fakeevnettt",
            args = {}
        }
    })
    exports['nocore-context']:openMenu(sendMenu)
end)

RegisterNetEvent("nocore-police:Client:BuyCar")
AddEventHandler("nocore-police:Client:BuyCar" , function(data)
    TriggerEvent('chat:addMessage', {
        color = { 255, 0, 0},
        args = {"[NoCore-Police]", "Вие закупихте: "..data.name}
    })
    TriggerServerEvent("nocore-police:Server:BuyPoliceCar", data.name, carmods[data.modname])
end)

RegisterNetEvent("nocore-police:Client:OpenCarMenu")
AddEventHandler("nocore-police:Client:OpenCarMenu" , function(args)
    menu = args[1]
    SetTimeout(1000, function()
        if menu == 'normal' then
            menu = normal
        elseif menu == 'unmarked'then
            menu = unmarked
        elseif menu == 'highspeed'then
            menu = highspeed
        end  
        OpenBuyMenu(menu)
    end)
end)

function OpenBuyMenu(menu)
    local sendMenu = {}
    table.insert(sendMenu,{
        id = 1,
        header = "Police Units",
        txt = "",
        isMenuHeader = true
    })
    for k, v in pairs(menu) do
      table.insert(sendMenu,{
        id = #sendMenu+1,
        header = 'Закупи '..v['Label']..'?' ,
        txt = v['Description'],
        params = { 
            event = "nocore-police:Client:BuyCar",
            args = {
                name = v['Name'],
                modname = v['ModName']
            }
        }
    })
    end
    table.insert(sendMenu,{
        id = #sendMenu+1,
        header = "Затвори",
        txt = "",
        params = { 
            event = "fakeevnettt",
            args = {}
        }
    })
    exports['nocore-context']:openMenu(sendMenu)
end